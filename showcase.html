<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUTD Swift Coding Club</title>
    <link href="assets/Swift_logo_color.png" rel="icon">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unpkg.com/@themesberg/flowbite@1.3.0/dist/flowbite.min.css" />
</head>

<body class="flex flex-col h-screen justify-between">
    <!--navbar-->
    <nav class="bg-gray-800 p-3">
        <div class="container mx-auto flex flex-wrap items-center justify-between">
            <a class="flex flex-row gap-2 items-center" href="index.html">
                <img src="img/swift_logo.svg" alt="Swift Logo" class="h-8 w-8">
                <span class="text-lg font-bold text-white hover:text-blue-400">SUTD Swift Coding Club</span>
            </a>
            <a href="about.html">
                <span class="text-lg text-gray-100 hover:text-blue-400">About</span>
            </a>
        </div>
    </nav>
    <main class="flex flex-col p-10 md:px-20 py-8 text-gray-700 max-w-5xl self-center">
        <h1 class="text-4xl text-center font-bold">Showcase</h1>
        <!--uni section-->
        <div class="py-5">
            <h2 class="text-2xl font-semibold">University Submissions</h2>
            <div id="uni-section" class="grid md:grid-flow-row md:grid-cols-3 md:grid-rows-2 gap-4 mt-3">
            </div>
        </div>

        <!--secondary school section-->
        <div class="py-5">
            <h2 class="text-2xl font-semibold">Secondary School Submissions</h2>
            <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. Blandit massa enim nec dui nunc mattis enim. Id velit ut tortor pretium viverra
                suspendisse potenti nullam ac. Eu tincidunt tortor aliquam nulla. Dictum sit amet justo donec. Mauris
                cursus mattis molestie a iaculis at erat pellentesque adipiscing.</span>
            <div id="sec-section" class="grid grid-flow-row md:grid-cols-3 gap-4 mt-3"></div>
        </div>

        <!--modal-->
        <div id="default-modal" aria-hidden="true"
            class="hidden overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-50 justify-center items-center h-modal md:h-full md:inset-0">
            <div class="relative px-4 w-full max-w-3xl h-full md:h-auto">
                <div class="flex flex-col relative bg-white rounded-lg shadow dark:bg-gray-700">
                    <div class="flex justify-between items-start p-5">
                        </h3>
                        <button type="button"
                            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"
                            data-modal-toggle="default-modal">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="flex flex-col pb-4 px-8 space-y-6 text-gray-500">
                        <div class="flex flex-row gap-4 text-left">
                            <div class="flex-grow">
                                <h3 id="modal-title"
                                    class="text-xl font-semibold text-gray-900 lg:text-2xl dark:text-white"></h3>
                                <p id="modal-school" class="text-xl font-medium"></p>
                                <p id="modal-members" class="text-lg"></p>
                            </div>
                            <a id="modal-poster-hl" href="#" target="_blank"
                                class="flex flex-col items-center hover:text-blue-500 hover:underline hidden">
                                <img id="modal-poster" class="" height="64" src="#" alt="Poster">
                                <span>Click to view poster in new tab</span>
                            </a>

                        </div>
                        <div class="self-center my-10">
                            <iframe id="ytplayer" type="text/html" width="640" height="360" src="" frameborder="0"
                                allowfullscreen></iframe>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/@themesberg/flowbite@1.3.0/dist/flowbite.bundle.js"></script>
    <script>
        $(document).ready(() => {
            $.getJSON("data/uni.json", (res) => {
                $.each(res, (i, val) => {
                    var submission =
                        `<div class="flex flex-col border-2 border-gray-600 rounded-lg p-4">
                            <h3 class="text-gray-900 font-semibold text-lg">${val.name}</h3>
                            <span class="text-gray-700">${val.oneLiner}</span>
                            <button
                                class="flex flex-row items-center mt-auto self-end block text-blue-600 hover:text-blue-800 hover:border-1 hover:bg-blue-100 rounded-lg focus:ring-2 focus:ring-blue-300 font-medium text-sm p-2.5 text-right dark:bg-blue-600 dark:focus:ring-blue-800"
                                type="button">
                                <span>More</span>
                                <i class='bx bx-chevrons-right bx-sm'></i>
                            </button>
                        </div>`;
                    $("#uni-section").append(
                        $(submission).click(() => {
                            $("#modal-title").text(val.appName);
                            $("#modal-school").text(val.school);

                            var members = val.members[0];
                            for (let index = 1; index < val.members.length; index++) {
                                members += ` - ${val.members[index]}`;
                            }
                            $("#modal-members").text(members);
                            $("#modal-poster-hl").addClass("hidden");
                            $("#ytplayer").attr('src', val.pitch);
                            toggleModal('default-modal');
                        })
                    );
                });
            });
            $.getJSON("data/sec.json", res => {
                $.each(res, (i, val) => {
                    var submission = `
                    <div class="flex flex-col text-gray-600 p-4 text-left">
                        <img class="self-center my-2" src="${val.poster}" alt="${val.name + "'s poster"}">
                        <h3 class="text-gray-900 font-semibold text-lg">${val.appName}</h3>
                        <span class="text-gray-700">${val.school}</span>
                        <button
                            class="flex flex-row items-center mt-auto self-end block text-blue-700 hover:text-blue-800 hover:border-1 hover:bg-blue-100 rounded-lg focus:ring-2 focus:ring-blue-300 font-medium text-sm p-2 text-right dark:bg-blue-600 dark:focus:ring-blue-800"
                            type="button">
                            <span>More</span>
                            <i class='bx bx-chevrons-right bx-sm'></i>
                        </button>
                    </div>
                    `;
                    $("#sec-section").append(
                        $(submission).click(() => {
                            $("#modal-title").text(val.appName);
                            $("#modal-school").text(val.school);

                            var members = val.members[0];
                            for (let index = 1; index < val.members.length; index++) {
                                members += ` - ${val.members[index]}`;
                            }
                            $("#modal-members").text(members);
                            $("#modal-poster-hl").attr("href", val.poster).removeClass(
                                "hidden").children().attr(
                                "src", val.poster);

                            $("#ytplayer").attr('src', val.pitch);
                            toggleModal('default-modal');
                        })
                    );
                });
            });
        });
    </script>
</body>

</html>